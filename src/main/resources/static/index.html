<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title id="doc-title">번역기</title>

  <link rel="icon" href="/icons/favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" href="/icons/icon-192.png">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#37474f">

  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" as="style" crossorigin
        href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
</head>

<body>

  <div class="header">
    <div id="mode-menu-container" class="mode-menu-container">
      <button id="mode-menu-button" class="mode-menu-button" title="번역 모드 설정"></button>
      <div id="mode-dropdown" class="mode-dropdown"></div>
    </div>

    <div class="header-controls">
      <div id="lang-menu-container" class="lang-menu-container">
        <button id="lang-menu-button" class="lang-menu-button" title="언어 설정"></button>
        <div id="lang-dropdown" class="lang-dropdown"></div>
      </div>
    </div>
  </div>

  <div id="chat-container" class="chat-container"></div>

  <div class="input-panel">
    <div class="input-box">
      <button id="mic-ko" class="mic-button" data-lang="ko">
        <span class="mic-title">한국어</span>
        <span class="mic-icon"></span>
      </button>
    </div>
    <div class="input-box">
      <button id="mic-uk" class="mic-button" data-lang="uk">
        <span class="mic-title">Українська</span>
        <span class="mic-icon"></span>
      </button>
    </div>
  </div>

  <!-- Load modules in dependency order -->
  <script src="/js/constants.js"></script>
  <script src="/js/i18n.js"></script>
  <script src="/js/browser.js"></script>
  <script src="/js/dom.js"></script>
  <script src="/js/app-state.js"></script>
  <script src="/js/utils.js"></script>
  <script src="/js/tts.js"></script>
  <script src="/js/translation.js"></script>
  <script src="/js/recognition.js"></script>
  <script src="/js/ui.js"></script>
  <script src="/js/app.js"></script>
  <script src="/js/script.js"></script>
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/service-worker.js')
          .then(reg => console.log('Service Worker registered:', reg.scope))
          .catch(err => console.error('SW registration failed:', err));
      });
    }
  </script>
</body>
</html>
