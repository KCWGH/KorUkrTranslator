const i18n = {
    ko: {
        title: 'ë²ˆì—­ê¸°',
        mode_fast: 'ë¹ ë¥¸ ë²ˆì—­',
        mode_accurate: 'ì •í™•í•œ ë²ˆì—­',
        lang_ko: 'ðŸ‡°ðŸ‡· í•œêµ­ì–´',
        lang_uk: 'ðŸ‡ºðŸ‡¦ Ð£ÐºÑ€Ð°Ñ—Ð½ÑÑŒÐºÐ°',
        status_wait_trans_base: 'ë²ˆì—­ ìš”ì²­ ì¤‘',
        chat_initial_ko: 'ì•ˆë…•í•˜ì„¸ìš”! ì´ ì•±ì€ í•œêµ­ì–´-ìš°í¬ë¼ì´ë‚˜ì–´ ì‹¤ì‹œê°„ í†µì—­ ì•±ìž…ë‹ˆë‹¤.',
        chat_initial_uk: 'ÐŸÑ€Ð¸Ð²Ñ–Ñ‚! Ð¦ÐµÐ¹ Ð´Ð¾Ð´Ð°Ñ‚Ð¾Ðº Ñ” Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¾ÑŽ Ð´Ð»Ñ Ð¿ÐµÑ€ÐµÐºÐ»Ð°Ð´Ñƒ Ð² Ñ€ÐµÐ¶Ð¸Ð¼Ñ– Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ñ‡Ð°ÑÑƒ Ð· ÐºÐ¾Ñ€ÐµÐ¹ÑÑŒÐºÐ¾Ñ— Ð½Ð° ÑƒÐºÑ€Ð°Ñ—Ð½ÑÑŒÐºÑƒ.',
        chat_example_uk: 'Ð¡ÐºÑ–Ð»ÑŒÐºÐ¸ ÐºÐ¾ÑˆÑ‚ÑƒÑ” ÐºÐ²Ð¸Ñ‚Ð¾Ðº Ð´Ð¾ Ð¡ÐµÑƒÐ»Ð°?',
        chat_example_ko: 'ì„œìš¸ê¹Œì§€ í‹°ì¼“ì€ ì–¼ë§ˆì˜ˆìš”?',
        alert_no_speech: 'âš ï¸ ì£„ì†¡í•©ë‹ˆë‹¤. ì´ ë¸Œë¼ìš°ì €ëŠ” ìŒì„± ì¸ì‹ì„ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. (Chrome ë˜ëŠ” Edge ë¸Œë¼ìš°ì € ì‚¬ìš©ì„ ê¶Œìž¥í•©ë‹ˆë‹¤.)',
        error_mic_perm: 'ë§ˆì´í¬ ì‚¬ìš© ê¶Œí•œì„ í—ˆìš©í•´ì£¼ì„¸ìš”.',
        error_server: 'ì„œë²„ ì—°ê²° ì˜¤ë¥˜ ë˜ëŠ” ë²ˆì—­ ì‹¤íŒ¨: ',
        error_secure: 'ë¸Œë¼ìš°ì € ë³´ì•ˆ ì„¤ì • ì˜¤ë¥˜ ë˜ëŠ” HTTPS ì ‘ì†ì´ ì•„ë‹™ë‹ˆë‹¤.',
        edit_tip: ' (í´ë¦­í•˜ì—¬ íŽ¸ì§‘)',
        copy_tip: ' (í´ë¦­í•˜ì—¬ ë³µì‚¬)',
        tts_play_title: 'ìŒì„± ìž¬ìƒ',
        tts_stop_title: 'ìŒì„± ì¤‘ì§€',
        clear_text_title: 'í…ìŠ¤íŠ¸ ì§€ìš°ê¸°',
        tooltip_mode_set: 'ë²ˆì—­ ëª¨ë“œ ì„¤ì •',
        tooltip_lang_set: 'ì–¸ì–´ ì„¤ì •',
        mic_alt_recording: 'ë…¹ìŒ ì¤‘',
        mic_alt_ready: 'ë§ˆì´í¬',
        copy_success: 'âœ… ë³µì‚¬ ì™„ë£Œ!',
        copy_fail: 'âŒ ë³µì‚¬ ì‹¤íŒ¨',
        error_http: 'HTTP ì˜¤ë¥˜',
        error_translation: 'ë²ˆì—­'
    },
    uk: {
        title: 'ÐŸÐµÑ€ÐµÐºÐ»Ð°Ð´Ð°Ñ‡',
        mode_fast: 'Ð¨Ð²Ð¸Ð´ÐºÐ¸Ð¹ Ð¿ÐµÑ€ÐµÐºÐ»Ð°Ð´',
        mode_accurate: 'Ð¢Ð¾Ñ‡Ð½Ð¸Ð¹ Ð¿ÐµÑ€ÐµÐºÐ»Ð°Ð´',
        lang_ko: 'ðŸ‡°ðŸ‡· í•œêµ­ì–´',
        lang_uk: 'ðŸ‡ºðŸ‡¦ Ð£ÐºÑ€Ð°Ñ—Ð½ÑÑŒÐºÐ°',
        status_wait_trans_base: 'Ð—Ð°Ð¿Ð¸Ñ‚ Ð½Ð° Ð¿ÐµÑ€ÐµÐºÐ»Ð°Ð´',
        chat_initial_ko: 'ì•ˆë…•í•˜ì„¸ìš”! ì´ ì•±ì€ í•œêµ­ì–´-ìš°í¬ë¼ì´ë‚˜ì–´ ì‹¤ì‹œê°„ í†µì—­ ì•±ìž…ë‹ˆë‹¤.',
        chat_initial_uk: 'ÐŸÑ€Ð¸Ð²Ñ–Ñ‚! Ð¦ÐµÐ¹ Ð´Ð¾Ð´Ð°Ñ‚Ð¾Ðº Ñ” Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¾ÑŽ Ð´Ð»Ñ Ð¿ÐµÑ€ÐµÐºÐ»Ð°Ð´Ñƒ Ð² Ñ€ÐµÐ¶Ð¸Ð¼Ñ– Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ñ‡Ð°ÑÑƒ Ð· ÐºÐ¾Ñ€ÐµÐ¹ÑÑŒÐºÐ¾Ñ— Ð½Ð° ÑƒÐºÑ€Ð°Ñ—Ð½ÑÑŒÐºÑƒ.',
        chat_example_uk: 'Ð¡ÐºÑ–Ð»ÑŒÐºÐ¸ ÐºÐ¾ÑˆÑ‚ÑƒÑ” ÐºÐ²Ð¸Ñ‚Ð¾Ðº Ð´Ð¾ Ð¡ÐµÑƒÐ»Ð°?',
        chat_example_ko: 'ì„œìš¸ê¹Œì§€ í‹°ì¼“ì€ ì–¼ë§ˆì˜ˆìš”?',
        alert_no_speech: 'âš ï¸ Ð’Ð¸Ð±Ð°Ñ‡Ñ‚Ðµ. Ð’Ð°Ñˆ Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€ Ð½Ðµ Ð¿Ñ–Ð´Ñ‚Ñ€Ð¸Ð¼ÑƒÑ” Ñ€Ð¾Ð·Ð¿Ñ–Ð·Ð½Ð°Ð²Ð°Ð½Ð½Ñ Ð¼Ð¾Ð²Ð¸. (Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð¾Ð²Ð°Ð½Ð¾ Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÐ²Ð°Ñ‚Ð¸ Chrome Ð°Ð±Ð¾ Edge.)',
        error_mic_perm: 'Ð‘ÑƒÐ´ÑŒ Ð»Ð°ÑÐºÐ°, Ð´Ð¾Ð·Ð²Ð¾Ð»ÑŒÑ‚Ðµ Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð°Ð½Ð½Ñ Ð¼Ñ–ÐºÑ€Ð¾Ñ„Ð¾Ð½Ð°.',
        error_server: 'ÐŸÐ¾Ð¼Ð¸Ð»ÐºÐ° Ð¿Ñ–Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð½Ñ Ð´Ð¾ ÑÐµÑ€Ð²ÐµÑ€Ð° Ð°Ð±Ð¾ Ð½ÐµÐ²Ð´Ð°Ð»Ð¸Ð¹ Ð¿ÐµÑ€ÐµÐºÐ»Ð°Ð´: ',
        error_secure: 'ÐŸÐ¾Ð¼Ð¸Ð»ÐºÐ° Ð±ÐµÐ·Ð¿ÐµÐºÐ¸ Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€ Ð°Ð±Ð¾ Ð½ÐµÐ¼Ð°Ñ” HTTPS-Ð·\'Ñ”Ð´Ð½Ð°Ð½Ð½Ñ.',
        edit_tip: ' (ÐÐ°Ñ‚Ð¸ÑÐ½Ñ–Ñ‚ÑŒ Ð´Ð»Ñ Ñ€ÐµÐ´Ð°Ð³ÑƒÐ²Ð°Ð½Ð½Ñ)',
        copy_tip: ' (ÐÐ°Ñ‚Ð¸ÑÐ½Ñ–Ñ‚ÑŒ Ð´Ð»Ñ ÐºÐ¾Ð¿Ñ–ÑŽÐ²Ð°Ð½Ð½Ñ)',
        tts_play_title: 'Ð’Ñ–Ð´Ñ‚Ð²Ð¾Ñ€Ð¸Ñ‚Ð¸ Ð°ÑƒÐ´Ñ–Ð¾',
        tts_stop_title: 'Ð—ÑƒÐ¿Ð¸Ð½Ð¸Ñ‚Ð¸ Ð°ÑƒÐ´Ñ–Ð¾',
        clear_text_title: 'ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚Ð¸ Ñ‚ÐµÐºÑÑ‚',
        tooltip_mode_set: 'ÐÐ°Ð»Ð°ÑˆÑ‚ÑƒÐ²Ð°Ð½Ð½Ñ Ñ€ÐµÐ¶Ð¸Ð¼Ñƒ Ð¿ÐµÑ€ÐµÐºÐ»Ð°Ð´Ñƒ',
        tooltip_lang_set: 'ÐÐ°Ð»Ð°ÑˆÑ‚ÑƒÐ²Ð°Ð½Ð½Ñ Ð¼Ð¾Ð²Ð¸',
        mic_alt_recording: 'Ð—Ð°Ð¿Ð¸Ñ...',
        mic_alt_ready: 'ÐœÑ–ÐºÑ€Ð¾Ñ„Ð¾Ð½',
        copy_success: 'âœ… Ð¡ÐºÐ¾Ð¿Ñ–Ð¹Ð¾Ð²Ð°Ð½Ð¾!',
        copy_fail: 'âŒ ÐŸÐ¾Ð¼Ð¸Ð»ÐºÐ° ÐºÐ¾Ð¿Ñ–ÑŽÐ²Ð°Ð½Ð½Ñ',
        error_http: 'HTTP Ð¿Ð¾Ð¼Ð¸Ð»ÐºÐ°',
        error_translation: 'Ð¿ÐµÑ€ÐµÐºÐ»Ð°Ð´'
    }
};

// Translation function - will be set after appState is initialized
let translationFunction = null;

function setTranslationFunction(fn) {
    translationFunction = fn;
}

function getTranslationFunction() {
    if (!translationFunction) {
        // Fallback: create translation function if not set
        translationFunction = (key) => i18n[appState.currentLang][key] || key;
    }
    return translationFunction;
}

